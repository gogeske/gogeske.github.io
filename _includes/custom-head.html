<script>
  var greetings,w,style;
  window.addEventListener('load', load);
  ['touchstart', 'mousedown', 'keydown'].forEach(function(e) {
    window.addEventListener(e, greet);
  });

  function load() {
    if(!Array.isArray(greetings)){
      greetings=document.querySelector(".home").textContent
        .split("\n")
        .map(element => element.trim()) // remove spaces
        .filter((value, index, self) => self.indexOf(value) === index) // make unique
        .filter(element => element); // remove empty values
      document.querySelectorAll(".home p").forEach(e => e.remove());
      w=document.querySelector(".wrapper"),
      style = w.style;
    }
  }

  function greet(e) {
    hello=greetings[Math.floor(Math.random() * greetings.length)];
    document.querySelector(".home h1").textContent=hello;
    console.log(e);
    console.log(style);
    
    style.animation = "";
    style.webkitAnimation = "";
    void w.offsetParent;
    style.animation = "flash .3s ease";
    style.webkitAnimation = "flash .3s ease";
  }
</script>
